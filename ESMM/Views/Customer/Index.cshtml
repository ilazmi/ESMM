@model IEnumerable<ESMM.Models.Customer>
@{
    ViewData["Title"] = "Müşteriler";
}
@section Styles {
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/dataTables.bootstrap4.min.css" />
}
@section Scripts {
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.23/js/dataTables.bootstrap4.min.js"></script>
    <script type="text/javascript" src="~/js/pages/customer.min.js"></script>
}
@{
    var bootstrapModal = new BootstrapModal
    {
        Id = "addEditCustomer",
        Buttons = ModalButton.SaveCancel,
        Size = ModalSize.Large
    };
}
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <div class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-12">
                    <h3 class="m-0 text-dark">@ViewData["Title"]</h3>
                </div><!-- /.col -->
            </div><!-- /.row -->
        </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->
    <!-- Main content -->
    <div class="content">
        <table id="customerList" class="table table-striped table-bordered d-none" style="width:100%;">
            <thead>
                <tr>
                    <th>@Html.DisplayNameFor(model => model.CompanyTitle)</th>
                    <th>@Html.DisplayNameFor(model => model.GSM)</th>
                    <th>@Html.DisplayNameFor(model => model.TaxOffice)</th>
                    <th>@Html.DisplayNameFor(model => model.TaxNumber)</th>
                    <th>@Html.DisplayNameFor(model => model.City.Name)</th>
                    <th>@Html.DisplayNameFor(model => model.District.Name)</th>
                    <th>İşlemler</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        @if (item.Type == 1)
                        {
                            <td>@Html.DisplayFor(modelItem => item.Name) @Html.DisplayFor(modelItem => item.Surname)</td>
                        }
                        else
                        {
                            <td>@Html.DisplayFor(modelItem => item.CompanyTitle)</td>
                        }
                        <td>@Html.DisplayFor(modelItem => item.GSM)</td>
                        <td>@Html.DisplayFor(modelItem => item.TaxOffice)</td>
                        <td>@Html.DisplayFor(modelItem => item.TaxNumber)</td>
                        <td>@Html.DisplayFor(modelItem => item.City.Name)</td>
                        <td>@Html.DisplayFor(modelItem => item.District.Name)</td>
                        <td>
                            <a class="btn btn-sm btn-info" asp-action="AddEdit" asp-route-id="@item.Id" data-toggle="modal" data-target="#@bootstrapModal.Id" data-title="Müşteri Düzenle" data-id="@item.Id"><i class="fas fa-edit"></i> Düzenle</a>
                            <a class="btn btn-sm btn-danger" asp-action="Delete" asp-route-id="@item.Id"><i class="fas fa-trash-alt"></i> Sil</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <!-- /.content -->
</div>
<partial name="_BootstrapModal" for="@bootstrapModal" />
@*@Html.Partial("_BootstrapModal", bootstrapModal)*@
